<% if user_signed_in? %>
<% content_for :title, "Products" %>

<div class="container mt-5">
    <div class="card shadow-lg p-4" style="border-radius: 15px;">
        <h2 class="text-center text-primary mb-4"></h2>

        <table class="table table-hover table-striped table-bordered text-center">
            <thead class="table-dark" style="background: linear-gradient(90deg, #4b6cb7, #182848); color: #ffffff;">
                <tr>
                    <th>Product Image</th>
                    <th>Product Title</th>
                    <th>Product Description</th>
                    <th>Product SKU</th>
                    <th>Stock Quantity</th>
                    <th>Price</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <%= render partial: "product_row", collection: @products, as: :product %>
            </tbody>
        </table>

        <% if current_user.admin? %>
        <div class="text-center mt-4">
            <%= link_to "Add New Product", new_product_path, class: "btn btn-primary btn-lg shadow-sm px-5" %>
        </div>
        <% end %>
    </div>
</div>

<% else %>
<%= render "sign_in_prompt" %>
<% end %>